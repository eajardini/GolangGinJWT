(function(e){function t(t){for(var n,r,s=t[0],u=t[1],c=t[2],p=0,h=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var u=o[s];0!==a[u]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},a={app:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var n=o("85ec"),a=o.n(n);a.a},3326:function(e,t,o){},"35ee":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"nav"}}),o("router-view",{on:{authenticated:e.setAuthenticated}})],1)},i=[],r={name:"App",data(){return{authenticated:!1,mockAccount:{username:"teste",password:"teste"}}},mounted(){this.authenticated=this.$cookie.get("autenticadocook"),console.log("[App.vue mounted] this.authenticated:"+this.authenticated),this.authenticated||this.$router.push("/login")},methods:{setAuthenticated(e){this.authenticated=e},getAuthenticated(){return this.authenticated},logout(){this.authenticated=!1}}},s=r,u=(o("034f"),o("2877")),c=Object(u["a"])(s,a,i,!1,null,null,null),l=c.exports,p=o("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:o("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},d=[],m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello"},[o("h1",[e._v(e._s(e.msg))]),e._m(0),o("h3",[e._v("Installed CLI Plugins")]),e._m(1),o("h3",[e._v("Essential Links")])])},v=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),o("br"),e._v(" check out the "),o("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[e._v("router")])])])}],f={name:"HelloWorld",props:{msg:String}},g=f,b=(o("9be3"),Object(u["a"])(g,m,v,!1,null,"11b7e9bf",null)),_=b.exports,k={name:"home",components:{HelloWorld:_}},w=k,$=Object(u["a"])(w,h,d,!1,null,null,null),y=$.exports,O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",[o("div",{attrs:{id:"FormularioLogin"}},[o("h1",[e._v("Login")]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.input.username,expression:"input.username"}],staticStyle:{"font-size":"24px"},attrs:{type:"text",name:"username",placeholder:"Usuário"},domProps:{value:e.input.username},on:{input:function(t){t.target.composing||e.$set(e.input,"username",t.target.value)}}})]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],staticStyle:{"font-size":"24px"},attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}})]),o("button",{attrs:{type:"button"},on:{click:function(t){return e.login()}}},[e._v("Login")])])])},j=[],x={data(){return{input:{username:"",password:""}}},methods:{liberaAcesso(e){this.$cookie.set("autenticadocook",!0,"1d"),this.$cookie.set("tokencliente",e,"1d"),this.$router.push("/inicio")},login(){if(""!=this.input.username&&""!=this.input.password){const e=new FormData;e.append("username",this.input.username),e.append("password",this.input.password),this.$http.post("login",e).then(e=>{console.log("[Login.vue Login] Retorno Token:"+e.data.token),this.liberaAcesso(e.data.token)}).catch(e=>{console.log("[Login.vue Login] Retorno do Erro:"+e.response.data),alert("Usuário não cadastrado ou senha inválida:"+e.response.data)})}else console.log("A username and password must be present")}}},P=x,T=(o("ce6e"),Object(u["a"])(P,O,j,!1,null,"f79ab304",null)),A=T.exports,q=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"about"},[o("h1",[e._v("Página About")])])}],S={},I=Object(u["a"])(S,q,E,!1,null,null,null),C=I.exports,L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"inicio"},[o("h1",[e._v("Página Início")]),o("router-link",{attrs:{to:"hello"}},[e._v("Hello")]),o("br"),o("button",{on:{click:e.digaOla}},[e._v("Diga olá")]),o("br"),o("button",{on:{click:e.sairDoSistema}},[e._v("Sair do Sistema")]),o("br"),o("label",{attrs:{for:""}},[e._v("Valor do token:")]),o("br"),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.token,expression:"token"}],attrs:{name:"",id:"",cols:"100",rows:"10"},domProps:{value:e.token},on:{input:function(t){t.target.composing||(e.token=t.target.value)}}})],1)},R=[],z={data(){return{token:"",bearer:"Bearer ",requisicao:!1,requisicaoTentativa:5}},mounted(){this.$http.defaults.headers.common["Authorization"]=this.setCabecalho()},methods:{setCabecalho(){return this.token="",this.bearer="Bearer ",this.token=this.$cookie.get("tokencliente"),this.bearer=this.bearer+this.token,this.bearer},renovaAcesso(e){this.$cookie.set("tokencliente",e,"1d")},async digaOla(){this.requisicao=!1,this.requisicaoTentativa=0;do{this.requisicaoTentativa++,console.log("[Inicio.vue digaOla n.1] Valor requiTentativa fora then:"+this.requisicaoTentativa),await this.$http.get("/mens/olasemclains").then(e=>{console.log("[Inicio.vue digaOla n.1] Valor requiTentativa dentro then:"+this.requisicaoTentativa),alert("[Inicio.vue digaOla n.16] Retorno Token:"+e.data.mensagem),this.requisicao=!0}).catch(e=>{const t=e.response.data.code,o=this.$cookie.get("autenticadocook");"401"==t&&o?(this.$http.defaults.headers.common["Authorization"]=this.setCabecalho(),this.$http.get("/auth/refresh_token").then(e=>{console.log("[Inicio.vue digaOla n.15] Retorno Token Renovado:"+e.data.message),this.renovaAcesso(e.data.token),this.$http.defaults.headers.common["Authorization"]=this.setCabecalho(),console.log("[Inicio.vue digaOla n.2] Valor requiTentativa dentro Refresh:"+this.requisicaoTentativa)}).catch(e=>{console.log("[Inicio.vue digaOla n.18] Erro ao renovar o Token:"+e.response.data.message)})):(alert("[Inicio.vue digaOla n. 12] Usuário não logado"),this.requisicao=!0)})}while(1!=this.requisicao)},sairDoSistema(){this.$cookie.delete("autenticadocook"),this.$cookie.delete("tokencliente"),this.$router.push("/login")}}},V=z,D=Object(u["a"])(V,L,R,!1,null,null,null),H=D.exports;n["a"].use(p["a"]);const M=[{path:"/inicio",name:"inicio",component:H},{path:"/hello",name:"hello",component:C},{path:"/home",name:"home",component:y},{path:"/login",name:"login",component:A}],U=new p["a"]({mode:"history",base:"/",routes:M});var W=U,F=o("bc3a"),N=o.n(F),B=o("a7ca"),J=o.n(B),Y=o("a84a"),G=o.n(Y),K=o("9959"),Q=o.n(K),X=o("00e7");n["a"].config.productionTip=!1,n["a"].component("InputText",G.a),n["a"].component("Card",J.a),n["a"].component("Panel",Q.a),n["a"].use({install(e){e.prototype.$http=N.a.create({baseURL:"http://167.114.124.28:8111/"}),e.prototype.$http.interceptors.request.use(e=>e,e=>Promise.reject(e)),e.prototype.$http.interceptors.response.use(e=>e,e=>Promise.reject(e))}}),n["a"].use(X),new n["a"]({router:W,render:function(e){return e(l)}}).$mount("#app")},"85ec":function(e,t,o){},"9be3":function(e,t,o){"use strict";var n=o("35ee"),a=o.n(n);a.a},ce6e:function(e,t,o){"use strict";var n=o("3326"),a=o.n(n);a.a},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.749b5d9c.js.map